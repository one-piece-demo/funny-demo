webpackJsonp([1],{NHnr:function(t,e,o){"use strict";function n(t){var e=void 0===t?"undefined":d()(t);if("number"===e||"string"===e){t=parseInt(t);var o=Math.floor(t/3600);t-=3600*o;var n=Math.floor(t/60);return t-=60*n,o+":"+("0"+n).slice(-2)+":"+("0"+t).slice(-2)}return"0:00:00"}Object.defineProperty(e,"__esModule",{value:!0});var i=o("7+uW"),a=o("zL8q"),s=o.n(a),r=o("Gu7T"),u=o.n(r),l=o("pFYg"),d=o.n(l),c={props:{theUrl:{type:String,required:!0},theSpeeds:{type:Array,default:function(){return[1,1.5,2]}},theControlList:{type:String,default:""}},name:"VueAudio",data:function(){return{url:this.theUrl||"http://devtest.qiniudn.com/secret base~.mp3",audio:{currentTime:0,maxTime:0,playing:!1,muted:!1,speed:1,waiting:!0,preload:"auto"},sliderTime:0,volume:100,speeds:this.theSpeeds,controlList:{noDownload:!1,noMuted:!1,noVolume:!1,noProcess:!1,onlyOnePlaying:!1,noSpeed:!1}}},methods:{setControlList:function(){var t=this;this.theControlList.split(" ").forEach(function(e){void 0!==t.controlList[e]&&(t.controlList[e]=!0)})},changeSpeed:function(){var t=this.speeds.indexOf(this.audio.speed)+1;this.audio.speed=this.speeds[t%this.speeds.length],this.$refs.audio.playbackRate=this.audio.speed},startMutedOrNot:function(){this.$refs.audio.muted=!this.$refs.audio.muted,this.audio.muted=this.$refs.audio.muted},formatVolumeToolTip:function(t){return"音量条: "+t},formatProcessToolTip:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t=parseInt(this.audio.maxTime/100*t),"进度条: "+n(t)},changeVolume:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.$refs.audio.volume=t/100,this.volume=t},changeCurrentTime:function(t){this.$refs.audio.currentTime=parseInt(t/100*this.audio.maxTime)},startPlayOrPause:function(){return this.audio.playing?this.pausePlay():this.startPlay()},startPlay:function(){this.$refs.audio.play()},pausePlay:function(){this.$refs.audio.pause()},onPause:function(){this.audio.playing=!1},onError:function(){this.audio.waiting=!0},onWaiting:function(t){console.log(t)},onPlay:function(t){if(console.log(t),this.audio.playing=!0,this.audio.loading=!1,this.controlList.onlyOnePlaying){var e=t.target,o=document.getElementsByTagName("audio");[].concat(u()(o)).forEach(function(t){t!==e&&t.pause()})}},onTimeupdate:function(t){this.audio.currentTime=t.target.currentTime,this.sliderTime=parseInt(this.audio.currentTime/this.audio.maxTime*100)},onLoadedmetadata:function(t){console.log("loadedmetadata"),console.log(t),this.audio.waiting=!1,this.audio.maxTime=parseInt(t.target.duration)}},filters:{formatSecond:function(){return n(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)},transPlayPause:function(t){return t?"暂停":"播放"},transMutedOrNot:function(t){return t?"放音":"静音"},transSpeed:function(t){return"快进: x"+t}},created:function(){this.setControlList()}},p={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.audio.waiting,expression:"audio.waiting"}],staticClass:"di main-wrap"},[o("audio",{ref:"audio",staticClass:"dn",attrs:{src:t.url,preload:t.audio.preload},on:{play:t.onPlay,error:t.onError,waiting:t.onWaiting,pause:t.onPause,timeupdate:t.onTimeupdate,loadedmetadata:t.onLoadedmetadata}}),t._v(" "),o("div",[o("el-button",{attrs:{type:"text"},on:{click:t.startPlayOrPause}},[t._v(t._s(t._f("transPlayPause")(t.audio.playing)))]),t._v(" "),o("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.controlList.noSpeed,expression:"!controlList.noSpeed"}],attrs:{type:"text"},on:{click:t.changeSpeed}},[t._v(t._s(t._f("transSpeed")(t.audio.speed)))]),t._v(" "),o("el-tag",{attrs:{type:"info"}},[t._v(t._s(t._f("formatSecond")(t.audio.currentTime)))]),t._v(" "),o("el-slider",{directives:[{name:"show",rawName:"v-show",value:!t.controlList.noProcess,expression:"!controlList.noProcess"}],staticClass:"slider",attrs:{"format-tooltip":t.formatProcessToolTip},on:{change:t.changeCurrentTime},model:{value:t.sliderTime,callback:function(e){t.sliderTime=e},expression:"sliderTime"}}),t._v(" "),o("el-tag",{attrs:{type:"info"}},[t._v(t._s(t._f("formatSecond")(t.audio.maxTime)))]),t._v(" "),o("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.controlList.noMuted,expression:"!controlList.noMuted"}],attrs:{type:"text"},on:{click:t.startMutedOrNot}},[t._v(t._s(t._f("transMutedOrNot")(t.audio.muted)))]),t._v(" "),o("el-slider",{directives:[{name:"show",rawName:"v-show",value:!t.controlList.noVolume,expression:"!controlList.noVolume"}],staticClass:"slider",attrs:{"format-tooltip":t.formatVolumeToolTip},on:{change:t.changeVolume},model:{value:t.volume,callback:function(e){t.volume=e},expression:"volume"}}),t._v(" "),o("a",{directives:[{name:"show",rawName:"v-show",value:!t.controlList.noDownload,expression:"!controlList.noDownload"}],staticClass:"download",attrs:{href:t.url,target:"_blank",download:""}},[t._v("下载")])],1)])},staticRenderFns:[]},m={name:"app",components:{VueAudio:o("VU/8")(c,p,!1,function(t){o("aQFu")},"data-v-d9b53d44",null).exports},data:function(){return{audios:[{url:"./static/falling-star.mp3",controlList:"onlyOnePlaying"},{url:"./static/falling-star.mp3",controlList:"noDownload noMuted onlyOnePlaying"},{url:"./static/falling-star.mp3",controlList:"noDownload noVolume noMuted onlyOnePlaying"},{url:"./static/falling-star.mp3",controlList:"noDownload noSpeed onlyOnePlaying"}]}}},f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},this._l(this.audios,function(t,o){return e("div",{key:o},[e("VueAudio",{attrs:{theUrl:t.url,theControlList:t.controlList}})],1)}))},staticRenderFns:[]},h=o("VU/8")(m,f,!1,function(t){o("OIlp")},null,null).exports;o("tvR6");i.default.config.productionTip=!1,i.default.use(s.a),new i.default({el:"#app",template:"<App/>",components:{App:h}})},OIlp:function(t,e){},aQFu:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.d79e021b148aab57ade4.js.map